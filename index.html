<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Map</title>
    <link rel="icon" href="/favicon.ico" />
  </head>

  <body>
    <div id="loader" class="loader-flex">
      <div
        class="progress-root color-primary progress-indeterminate"
        role="progressbar"
        style="width: 40px; height: 40px"
      >
        <svg class="progress-svg" viewBox="22 22 44 44">
          <circle
            class="progress-circle circle-indeterminate"
            cx="44"
            cy="44"
            r="20.2"
            fill="none"
            stroke-width="3.6"
          ></circle>
        </svg>
      </div>
      <div style="height: 10px"></div>
      <h4 id="loading-text" class="loading-text"></h4>
      <noscript>
        <h4 class="loading-text">This app requires JavaScript</h4>
      </noscript>
    </div>
    <canvas id="holiday-canvas"></canvas>
    <script>
      try {
        const localState = window?.localStorage?.getItem('local-state')
        if (localState) {
          const { state } = JSON.parse(localState)
          if (state.darkMode) {
            console.log('hello')
            document.body.classList.add('dark')
          }
        }

        const locales = {
          de: 'Map wird geladen',
          en: 'Loading Map',
          es: 'Cargando Mapa',
          fr: 'Chargement de la Map',
          it: 'Caricamento Mappa',
          ja: 'マップを読み込み中',
          ko: '맵 로딩 중',
          nl: 'Map word geladen',
          pl: 'Ładowanie mapy',
          'pt-br': 'Carregando Mapa',
          ru: 'Загрузка карты',
          sv: 'Laddar karta',
          th: 'กำลังโหลดแผนที่',
          tr: 'Harita yükleniyor',
          'zh-tw': '載入地圖中',
        }
        const locale = window?.localStorage?.getItem('i18nextLng') || 'en'
        const element = document.getElementById('loading-text')
        if (element) {
          element.innerText = locales[locale.toLowerCase()] || locales.en
        }
      } catch (e) {
        console.error(e)
      }
    </script>
    <div id="root"></div>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v6.4.0/css/all.css"
    />
    <script type="module" src="/src/index.jsx"></script>
  </body>
</html>
